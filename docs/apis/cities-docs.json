{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8081","description":"Generated server url"}],"tags":[{"name":"Tourism Management","description":"API for managing tourist cities and hotel search operations"}],"paths":{"/tourism/city/{id}":{"put":{"tags":["Tourism Management","Cities"],"summary":"Update city","description":"Partially updates an existing city's data. Only provided fields will be modified","operationId":"updateCity","parameters":[{"name":"id","in":"path","description":"ID of the city to update","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"object"},"description":"Fields to update with their new values"}}},"required":true},"responses":{"200":{"description":"City updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CityDTO"}}}},"404":{"description":"City not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CityDTO"}}}},"400":{"description":"Invalid update data","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CityDTO"}}}}}},"delete":{"tags":["Tourism Management","Cities"],"summary":"Delete city","description":"Removes a city from the system permanently","operationId":"deleteCity","parameters":[{"name":"id","in":"path","description":"ID of the city to delete","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"409":{"description":"Cannot delete city - it may have associated hotels","content":{"*/*":{"schema":{"type":"string"}}}},"404":{"description":"City not found","content":{"*/*":{"schema":{"type":"string"}}}},"200":{"description":"City deleted successfully","content":{"application/json":{"examples":{"Success message":{"description":"Success message","value":"The city was deleted successfully"}}}}}}}},"/tourism/city/create":{"post":{"tags":["Tourism Management","Cities"],"summary":"Create new city","description":"Registers a new tourist city in the system with all its information","operationId":"createCity","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CityDTO"}}},"required":true},"responses":{"409":{"description":"City already exists"},"201":{"description":"City created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CityDTO"},"examples":{"Created city":{"description":"Created city","value":{"id":3,"name":"Madrid","state":"Madrid","country":"Spain"}}}}}},"400":{"description":"Invalid input data","content":{"application/json":{"examples":{"Validation error":{"description":"Validation error","value":{"error":"Bad Request","message":"City name is required"}}}}}}}}},"/tourism/state/{state}/hotel":{"get":{"tags":["Tourism Management","Hotel Integration"],"summary":"Find hotels by state","description":"Retrieves all hotels available in a specific state/province","operationId":"findHotelByState","parameters":[{"name":"state","in":"path","description":"Name of the state/province to search hotels in","required":true,"schema":{"type":"string"},"example":"Florida"}],"responses":{"200":{"description":"Hotels found successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HotelsDTO"}}}},"404":{"description":"No hotels found in the specified state","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/HotelsDTO"}}}}}}}},"/tourism/hotels/errorId/{id}":{"get":{"tags":["Tourism Management","Circuit Breaker"],"summary":"Endpoint to try Circuit Breaker","description":"This endpoint is for testing the correct operation of Circuit Breaker. We do this by manually triggering a fault.","operationId":"findHotelsById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/HotelsDTO"}}}}}}},"/tourism/hotel/search":{"get":{"tags":["Tourism Management","Hotel Integration"],"summary":"Search hotels with filters","description":"Advanced hotel search using multiple criteria including city, state, country, and star rating","operationId":"findHotelByFilters","parameters":[{"name":"city","in":"query","description":"City name to filter by","required":false,"schema":{"type":"string"},"example":"Miami"},{"name":"state","in":"query","description":"State/province name to filter by","required":false,"schema":{"type":"string"},"example":"Florida"},{"name":"country","in":"query","description":"Country name to filter by","required":false,"schema":{"type":"string"},"example":"USA"},{"name":"stars","in":"query","description":"Star rating to filter by (1-5 stars)","required":false,"schema":{"type":"integer","format":"int32"},"example":5}],"responses":{"404":{"description":"No hotels found matching the specified criteria","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/HotelsDTO"}}}}},"400":{"description":"Invalid filter parameters","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/HotelsDTO"}}}}},"200":{"description":"Hotels found matching the criteria","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HotelsDTO"},"examples":{"Filtered hotels":{"description":"Filtered hotels","value":[{"name":"Luxury Beach Resort","address":"456 Beach Ave","stars":5,"city_name":"Miami","state":"Florida","country":"USA"}]}}}}}}}},"/tourism/country/{country}/hotel":{"get":{"tags":["Tourism Management","Hotel Integration"],"summary":"Find hotels by country","description":"Retrieves all hotels available in a specific country","operationId":"findHotelByCountry","parameters":[{"name":"country","in":"path","description":"Name of the country to search hotels in","required":true,"schema":{"type":"string"},"example":"USA"}],"responses":{"200":{"description":"Hotels found successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HotelsDTO"}}}},"404":{"description":"No hotels found in the specified country","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/HotelsDTO"}}}}}}}},"/tourism/city/{city}/hotel":{"get":{"tags":["Tourism Management","Hotel Integration"],"summary":"Find hotels by city","description":"Retrieves all hotels available in a specific city through integration with Hotels Service","operationId":"findHotelByCity","parameters":[{"name":"city","in":"path","description":"Name of the city to search hotels in","required":true,"schema":{"type":"string"},"example":"Miami"}],"responses":{"404":{"description":"No hotels found in the specified city","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/HotelsDTO"}}}}},"200":{"description":"Hotels found successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HotelsDTO"},"examples":{"Hotels in city":{"description":"Hotels in city","value":[{"name":"Ocean Drive Resort","address":"123 Ocean Dr","stars":5,"city_name":"Miami","state":"Florida","country":"USA"}]}}}}}}}},"/tourism/city/name/{name}":{"get":{"tags":["Tourism Management","Cities"],"summary":"Find city by name","description":"Finds a specific city using its name. The search is case-insensitive","operationId":"findCityByName","parameters":[{"name":"name","in":"path","description":"Name of the city to search for","required":true,"schema":{"type":"string"},"example":"Miami"}],"responses":{"200":{"description":"City found successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CityDTO"},"examples":{"City by name":{"description":"City by name","value":{"id":1,"name":"Miami","state":"Florida","country":"USA"}}}}}},"404":{"description":"No city found with the specified name","content":{"*/*":{"schema":{"$ref":"#/components/schemas/CityDTO"}}}}}}},"/tourism/city/id/{id}":{"get":{"tags":["Tourism Management","Cities"],"summary":"Find city by ID","description":"Retrieves detailed information of a specific city using its unique identifier","operationId":"findCityById","parameters":[{"name":"id","in":"path","description":"Unique city identifier","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"responses":{"400":{"description":"Invalid ID format"},"200":{"description":"City found successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CityDTO"},"examples":{"City found":{"description":"City found","value":{"id":1,"name":"Miami","state":"Florida","country":"USA"}}}}}},"404":{"description":"City not found","content":{"application/json":{"examples":{"Error 404":{"description":"Error 404","value":{"error":"Not Found","message":"City not found with ID: 999"}}}}}}}}},"/tourism/cities":{"get":{"tags":["Tourism Management","Cities"],"summary":"Get all cities","description":"Returns a complete list of all tourist cities available in the system","operationId":"findAllCities","responses":{"200":{"description":"Cities list retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CityDTO"},"examples":{"Cities list":{"description":"Cities list","value":[{"id":1,"name":"Miami","state":"Florida","country":"USA"},{"id":2,"name":"Barcelona","state":"Catalonia","country":"Spain"}]}}}}},"500":{"description":"Internal server error"}}}}},"components":{"schemas":{"CityDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64","readOnly":true},"name":{"type":"string"},"state":{"type":"string"},"country":{"type":"string"}}},"HotelsDTO":{"type":"object","properties":{"name":{"type":"string"},"address":{"type":"string"},"stars":{"type":"integer","format":"int32"},"city":{"type":"string"},"state":{"type":"string"},"country":{"type":"string"}}}}}}